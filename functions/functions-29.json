{"id":29,"name":"Sort pipe functions","description":"","code":"input.html = html`<div x-intersect:enter=\"initSortable\"\n                    x-data=\"{\n                    funcs: $store.pdPipeFunctions.funcs,\n                    initSortable(){\n                      var interval = setInterval(waitForSortable = () => {\n                        if(!window.Sortable) return\n                        const sort = Sortable.create($el, { items: '.item', handle: '.handle', ghostClass: 'placeholder', \n                          onEnd: (_evt) => {\n                            this.funcs = sort.toArray().map(Number)\n                              .filter(id => pipe.functions.includes(id));\n                            PD.pdUpdatePipe({server: true, pipe }).then(result => {\n                              pipe.functions = result.updatedPipe.functions\n                              console.log(pipe)\n                           })}})\n                         clearInterval(interval)\n                       }, 100)}}\" \n                    class=\"btn-group-vertical justify-content-center gap-2\">\n                    <template x-for=\"F in $store.pipes.current.functions\">                    \n                      <button :data-id=\"F\" :key=\"F\" x-data=\"{\t\n\t                        func: null,\n\t                        init(){ this.func = funcs.find(func => func.id === F); } \n\t                       }\"\n                           @click=\"() => { \n                             funcs.map(func => { func.focus = false; })\n                             func.focus = true; \n                           }\"\n                           class=\"item handle btn btn-primary d-flex gap-3\">\n                             <i class=\"bi bi-arrows-move\"></i> \n                             <span x-text=\"func.id\"></span>\n                             <span class=\"ms-auto\" x-text=\"func.name\"></span>\n                      </button>                \n                    </template>\n                  </div>`","archived":false,"render":false,"transform":{"prop":"html"},"dependency":false,"execOnServer":false,"focus":true}